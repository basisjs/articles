# &lt;b:style&gt;

Шаблоны могут подключать файлы стилей, которые они используют. Обычно рядом с файлом шаблона располагается файл с таким же именем, но с расширением `.css` содержащий стили к шаблону. Шаблон может подключать произвольное количество файлов стилей.

Основной атрибут `src`, в нем указывается путь к файлу стилей. Если описание шаблона находится в отдельном файле, то путь разрешается относительно него, иначе относительно корня приложения. Для значения `src` применяются те же правила преобразования путей, что и для [`basis.resource()`](../resources.md#basisresource).

```html
<b:style src="./item.css"/>

<div class="item">
  ...
</div>
```

В режиме разработки, стили подключаются на страницу в момент когда создается первый экземпляр шаблона. Если несколько шаблонов используют один и тот же файл стилей, то он подключается только один раз. Если описание шаблона (шаблонов) изменяется так, что перестает использовать определенный файл стилей, и этот файл не используется другими шаблонами, то стиль изымается из страницы.

> В сборке стили объединяются в один файл и динамического подключения/отключения стилей не происходит. Если используются темы, то генерируется несколько файлов стилей, в каждый из которых попадают только те стили, которые относятся к теме; при смене темы происходит смена используемого файла стилей (в один момент используется только один файл, соотвествующий текущей теме).

## Инлайн стили

Тег `<b:style>` не обязательно должен ссылаться на внешний файл стилей. Атрибут `src` может быть опущен, а CSS указан как контент тега `<b:style>`.

```html
<b:style>
  .demo { color: red; }
</b:style>

<div class="demo">
  I'm red
</div>
```

> Если указан атрибут `src`, то контент внутри `<b:style>` игнорируется.

Технически шаблонизатор создает [виртуальный ресурс](resources.md#%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D1%80%D0%B5%D1%81%D1%83%D1%80%D1%81%D1%8B) из содержимого тега, поэтому все механизмы работают независимо от того используется ли атрибут `src` или CSS описан в самом `<b:style>`.

## Наследование стилей

Если шаблон включает в себя другой шаблон (через [`<b:include>`](b-include.md)) и включаемый шаблон содержит подключение стилей (теги `<b:style>`), то эти стили подключаются как собственные. Стили из подключаемых шаблонов ставятся до стилей подключающего шаблона.

В случае если нужно включить из другого шаблона только разметку без стилей, то тегу `<b:include>` добавляется атрибут `no-style`.

Шаблон:

```html
<b:style src="./my.css">

<div class="my-component">
  <b:include src="./include.tmpl"/>
</div>
```

include.tmpl

```html
<b:style src="./include.css"/>

<div class="some-include">
  Hello world
</div>
```

Эквивалентно:

```html
<b:style src="./include.css"/>
<b:style src="./my.css">

<div class="my-component">
  <div class="some-include">
    Hello world
  </div>
</div>
```

Так как шаблоны могут инициироваться в любой момент (когда создается их первый экземпляр) и подключать несколько файлов стилей в произвольном порядке, то нельзя полагаться на порядок подключения стилей. Обычно это не доставляет проблем, но это стоит учитывать, если в разных файлах стилей описываются правила с одинаковым весом ([specificity](http://www.w3.org/TR/selectors/#specificity)), применимые к элементу.

`<b:style/>` поддерживает [изоляцию стилей](./isolate-style.md).